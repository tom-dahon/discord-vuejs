{"ast":null,"code":"import Axios from 'axios';\nimport { createStore } from \"vuex\";\nimport store from \"@/store\";\nimport router from '@/router';\nimport { accountService } from './account.service';\nAxios.interceptors.request.use(request => {\n  // Si connecté on ajoute le token dans l'entête\n  if (accountService.isLogged()) {\n    request.headers.Authorization = 'Bearer ' + accountService.getToken();\n  }\n  return request;\n});\nAxios.interceptors.response.use(response => {\n  return response;\n}, error => {\n  console.log(error);\n  if (!error.response) {\n    // Erreur rzo\n    console.log(\"error.response\");\n    // store.commit('displayNotif', {d: true, mes: error})\n    return Promise.reject(error);\n    // }else{\n    //     if(error.response.status == 401){\n    //         accountService.logout()\n    //         router.push('/signin')\n    //     }else{\n    //         // Erreur de l'API\n    //         store.commit('displayNotif', {d: true, mes: error.response.data.message})\n    //         return Promise.reject(error)\n    //     }\n    // \n  }\n});\n\nexport default Axios;","map":{"version":3,"names":["Axios","createStore","store","router","accountService","interceptors","request","use","isLogged","headers","Authorization","getToken","response","error","console","log","Promise","reject"],"sources":["/Users/ben/Documents/dev/discord-vuejs/Front/src/api/caller.service.js"],"sourcesContent":["import Axios from 'axios';\nimport { createStore } from \"vuex\";\nimport store from \"@/store\";\nimport router from '@/router';\nimport {accountService} from './account.service';\n\nAxios.interceptors.request.use(request => {\n    \n  // Si connecté on ajoute le token dans l'entête\n  if(accountService.isLogged()){\n      request.headers.Authorization = 'Bearer '+ accountService.getToken()\n  }\n\n  return request\n})\n\nAxios.interceptors.response.use(response => {\n  return response\n}, error => {\n  console.log(error)\n\n\n  if(!error.response){\n      // Erreur rzo\n      console.log(\"error.response\")\n      // store.commit('displayNotif', {d: true, mes: error})\n      return Promise.reject(error)\n  // }else{\n  //     if(error.response.status == 401){\n  //         accountService.logout()\n  //         router.push('/signin')\n  //     }else{\n  //         // Erreur de l'API\n  //         store.commit('displayNotif', {d: true, mes: error.response.data.message})\n  //         return Promise.reject(error)\n  //     }\n  // \n  }\n  })\n\n\nexport default Axios"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,MAAM;AAClC,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,SAAQC,cAAc,QAAO,mBAAmB;AAEhDJ,KAAK,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAACD,OAAO,IAAI;EAExC;EACA,IAAGF,cAAc,CAACI,QAAQ,EAAE,EAAC;IACzBF,OAAO,CAACG,OAAO,CAACC,aAAa,GAAG,SAAS,GAAEN,cAAc,CAACO,QAAQ,EAAE;EACxE;EAEA,OAAOL,OAAO;AAChB,CAAC,CAAC;AAEFN,KAAK,CAACK,YAAY,CAACO,QAAQ,CAACL,GAAG,CAACK,QAAQ,IAAI;EAC1C,OAAOA,QAAQ;AACjB,CAAC,EAAEC,KAAK,IAAI;EACVC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAGlB,IAAG,CAACA,KAAK,CAACD,QAAQ,EAAC;IACf;IACAE,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC7B;IACA,OAAOC,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;IAChC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;AACA,CAAC,CAAC;;AAGJ,eAAeb,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}