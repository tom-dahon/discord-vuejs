{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport store from '../../store';\nimport router from '../../router';\nimport { getConnexion } from '../../api/caller.service';\nexport default {\n  methods: {\n    handleSubmit() {\n      const userData = {\n        \"username\": username.value,\n        \"password\": password.value\n      };\n      console.log(userData.password, userData.username);\n      getConnexion(userData).then(data => {\n        if (data.status == 200) {\n          localStorage.setItem('token', data.data.token);\n          this.$store.commit('setEmailUser', data.data.email);\n          this;\n          router.push('/chat');\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};\n// handleSubmit() {\n//     const userData = { \"username\": username.value,\"password\": password.value };\n//   },\n//   getConnnexion(userData)\n//     .then(data => {\n//       if (data.status == 200) {\n//         localStorage.setItem('token', \"data\");\n//         router.push('/chat');\n//       }\n//     }),\n//     .catch(error => {\n//       console.log(error);\n//     }),\n//   },\n// }","map":{"version":3,"names":["store","router","getConnexion","methods","handleSubmit","userData","username","value","password","console","log","then","data","status","localStorage","setItem","token","$store","commit","email","push","catch","error"],"sources":["/Users/ben/Documents/dev/discord-vuejs/Front/src/views/Signin/Signin.vue"],"sourcesContent":["<template>\n  <body class=\"bg-image\">\n    <div class=\"container w-50 position-absolute top-50 start-50 translate-middle\">\n      <div id=\"form_frame\" class=\"p-4\">\n        <h2 class=\"text-white\">Connexion</h2>\n   \n\n            <div class=\"form-outline mb-4\">\n              <label class=\"form-label text-light\" for=\"username\">Nom d'utilisateur</label>\n              <input v-model=\"username\" name=\"username\" type=\"text\" id=\"username\" class=\"text-white form-control\" />\n            </div>\n          \n            <div class=\"form-outline mb-4\">\n              <label class=\"form-label text-light\" for=\"password\">Mot de passe</label>\n              <input v-model=\"password\" name=\"password\" type=\"password\" id=\"password\" class=\"text-white form-control\" />\n              \n            </div>\n\n            <button @click=\"handleSubmit\" class=\"btn text-light btn-block mb-1\">Connexion</button>\n            <h6 class=\"text-white pt-2\">Pas de compte ? <a href=\"/signup\">Inscription</a></h6>\n    \n          <div id=\"form_error\" class=\"alert alert-danger d-none\" role=\"alert\">\n            Les informations saisies sont incorrectes\n          </div>  \n        </div>  \n      </div>\n\n</body>\n</template>\n\n<script>\n  import store from '../../store'\n  import router from '../../router'\n  import { getConnexion} from '../../api/caller.service'\n  export default {\n  methods: {\n      handleSubmit() {\n        const userData = { \"username\": username.value,\"password\": password.value };\n        console.log(userData.password,userData.username);\n\n        getConnexion(userData)\n        .then(data => {\n          if (data.status == 200) {\n          localStorage.setItem('token', data.data.token);\n          this.$store.commit('setEmailUser', data.data.email);\n          this\n          router.push('/chat');\n            }\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  }\n};\n  // handleSubmit() {\n  //     const userData = { \"username\": username.value,\"password\": password.value };\n  //   },\n  //   getConnnexion(userData)\n  //     .then(data => {\n  //       if (data.status == 200) {\n  //         localStorage.setItem('token', \"data\");\n  //         router.push('/chat');\n  //       }\n  //     }),\n  //     .catch(error => {\n  //       console.log(error);\n  //     }),\n  //   },\n  // }\n</script>\n\n<style>\nbody {\n    background-image: url(\"../../assets/signin-background.png\");\n    height: 100vh;\n}\n#form_frame {\n    background-color: #343A3F;\n}\nbutton {\n    background-color: #5865F2 !important;\n}\n.bg-image{\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n</style>"],"mappings":";AA+BE,OAAOA,KAAI,MAAO,aAAY;AAC9B,OAAOC,MAAK,MAAO,cAAa;AAChC,SAASC,YAAY,QAAO,0BAAyB;AACrD,eAAe;EACfC,OAAO,EAAE;IACLC,YAAYA,CAAA,EAAG;MACb,MAAMC,QAAO,GAAI;QAAE,UAAU,EAAEC,QAAQ,CAACC,KAAK;QAAC,UAAU,EAAEC,QAAQ,CAACD;MAAM,CAAC;MAC1EE,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACG,QAAQ,EAACH,QAAQ,CAACC,QAAQ,CAAC;MAEhDJ,YAAY,CAACG,QAAQ,EACpBM,IAAI,CAACC,IAAG,IAAK;QACZ,IAAIA,IAAI,CAACC,MAAK,IAAK,GAAG,EAAE;UACxBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,IAAI,CAACA,IAAI,CAACI,KAAK,CAAC;UAC9C,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,cAAc,EAAEN,IAAI,CAACA,IAAI,CAACO,KAAK,CAAC;UACnD,IAAG;UACHlB,MAAM,CAACmB,IAAI,CAAC,OAAO,CAAC;QAClB;MACJ,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdb,OAAO,CAACC,GAAG,CAACY,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;EACF;AACF,CAAC;AACC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}