{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport Home from '../views/Home.vue';\nimport Signin from '../views/Signin/Signin.vue';\nimport Signup from '../views/Signup/Signup.vue';\nimport store from '../store';\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [{\n    path: '/chat',\n    component: Home\n  }, {\n    path: '/signin',\n    component: Signin\n  }, {\n    path: '/signup',\n    component: Signup\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  console.log(store.state.token);\n  const publicPages = ['/signin', '/signup'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = store.state.token;\n  if (authRequired && !loggedIn) {\n    next('/signin');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Home","Signin","Signup","store","router","history","routes","path","component","beforeEach","to","from","next","console","log","state","token","publicPages","authRequired","includes","loggedIn"],"sources":["/Users/ben/Documents/discord-vuejs/Front/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory} from 'vue-router';\nimport Home from '../views/Home.vue';\nimport Signin from '../views/Signin/Signin.vue';\nimport Signup from '../views/Signup/Signup.vue';\nimport store from '../store'\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [\n    { \n      path: '/chat', \n      component: Home \n    },\n    {\n      path: '/signin',\n      component: Signin\n    },\n    {\n      path: '/signup',\n      component: Signup\n    },\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  console.log(store.state.token)\n  const publicPages = ['/signin', '/signup'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = store.state.token\n\n  if (authRequired && !loggedIn) {\n    next('/signin');\n  } else {\n    next();\n  }\n});\n\nexport default router;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAO,YAAY;AAC1D,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,MAAM,MAAM,4BAA4B;AAC/C,OAAOC,MAAM,MAAM,4BAA4B;AAC/C,OAAOC,KAAK,MAAM,UAAU;AAE5B,MAAMC,MAAM,GAAGN,YAAY,CAAC;EAC1BO,OAAO,EAAEN,gBAAgB,EAAE;EAC3BO,MAAM,EAAE,CACN;IACEC,IAAI,EAAE,OAAO;IACbC,SAAS,EAAER;EACb,CAAC,EACD;IACEO,IAAI,EAAE,SAAS;IACfC,SAAS,EAAEP;EACb,CAAC,EACD;IACEM,IAAI,EAAE,SAAS;IACfC,SAAS,EAAEN;EACb,CAAC;AAEL,CAAC,CAAC;AAEFE,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpCC,OAAO,CAACC,GAAG,CAACX,KAAK,CAACY,KAAK,CAACC,KAAK,CAAC;EAC9B,MAAMC,WAAW,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC;EAC1C,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAQ,CAACT,EAAE,CAACH,IAAI,CAAC;EACnD,MAAMa,QAAQ,GAAGjB,KAAK,CAACY,KAAK,CAACC,KAAK;EAElC,IAAIE,YAAY,IAAI,CAACE,QAAQ,EAAE;IAC7BR,IAAI,CAAC,SAAS,CAAC;EACjB,CAAC,MAAM;IACLA,IAAI,EAAE;EACR;AACF,CAAC,CAAC;AAEF,eAAeR,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}