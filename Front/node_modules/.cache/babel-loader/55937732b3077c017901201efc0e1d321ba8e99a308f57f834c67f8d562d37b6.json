{"ast":null,"code":"import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport { getChannels } from '@/api/caller.service';\nimport popupErreur from '@/components/chat/popupErreur.vue';\nimport { faThumbsDown } from '@fortawesome/free-solid-svg-icons';\nimport store from '../../store/index.js';\nimport chat from './chat.vue';\n//import settingPopup from './settingPopup.vue';\n\nexport default {\n  name: \"sidebar\",\n  components: {\n    FontAwesomeIcon,\n    popupErreur\n  },\n  data() {\n    return {\n      isHidden: false,\n      alerte: false,\n      message: \"\",\n      channels: null\n    };\n  },\n  methods: {\n    getMessage: function () {\n      // this.$emit('my-event')\n      console.log(th);\n      this.$store.commit('setIdChannel', this.channels.idChannel);\n      console.log(this.$store.state.idChannel);\n      this.$store.commit('setNameChannel', this.channels.nameChannel);\n      console.log(this.$store.state.nameChannel);\n\n      // this.$chat.$emit(getMessages(store.state.idChannel))\n      // this.$refs.chat.getMessages(store.state.idChannel);\n      // this.$root.$emit('component1') //like this\n      // this.$root.$refs.Chat.foo();\n      // component('Chat').c1method()//like this\n\n      // }\n      //   showAlerte(mess){\n      //     this.popupErreur.showAlerte()\n      //     document.getElementById(\"alerte\").innerHTML = mess;\n      //     setTimeout(() => {\n      //       this.alerte = true;\n      //     }, 1000);\n      // },\n    }\n  },\n\n  mounted() {\n    getChannels().then(data => {\n      this.channels = data;\n      store.commit('setIdChannel', data[0].id);\n      store.commit('setNameChannel', data[0].name);\n      console.log(data[0].id);\n      console.log(data[0]);\n    }).catch(error => {\n      //this.alerte = true;\n      //this.popupErreur.changeProps(\"tatata\")\n      //this.message = \"Erreur lors de la récupération des channels\";\n      console.log(error);\n    });\n  }\n};","map":{"version":3,"names":["FontAwesomeIcon","getChannels","popupErreur","faThumbsDown","store","chat","name","components","data","isHidden","alerte","message","channels","methods","getMessage","console","log","th","$store","commit","idChannel","state","nameChannel","mounted","then","id","catch","error"],"sources":["/Users/ben/Documents/dev/discord-vuejs/Front/src/views/Home/sidebar.vue"],"sourcesContent":["<template>\n  <div class=\"sidebar d-flex h-1 justify-content-between\">\n    <div class=\"input-group input-group-sm mt-1 p-2 \">\n      <input type=\"text\" class=\"form-control border-0 text-bg-dark\" placeholder=\"Rechercher/Lancer une conversation\" aria-describedby=\"inputGroup-sizing-sm\">\n    </div>\n    <div class=\"sidebar__icon\">\n      <font-awesome-icon size=\"lg\" class=\"awesomeFake ms-2\" icon=\"fa-solid fa-user\" />\n      <span class=\"ms-3\">Amis</span>\n    </div>\n    <div class=\"sidebar__icon\">\n      <font-awesome-icon size=\"lg\" class=\"awesomeFake ms-2\" icon=\"fa-solid fa-envelope\" />\n      <span class=\"ms-3\">Demandes de message</span>\n    </div>\n    <div class=\"sidebar_users d-flex ms-3\">\n      <div class=\"sidebar__usersHeader justify-content-between\">\n          <div class=\"messagePrivee justify-content-between\">\n            <span class=\"messagePrive\">MESSAGES PRIVÉS</span>\n        \n            <font-awesome-icon class=\"ms-5\" size=\"md\" icon=\"fa-solid fa-plus\"/>\n          </div>\n          \n          <div @click=\"getMessage\" class=\"sidebar__icon_conv\" v-for=\"data of channels\" :key=data>\n            <router-link  style=\"text-decoration: none; color: inherit;\" :to=\"'/chat/'+data.id\">\n            <font-awesome-icon size=\"lg\" icon=\"awesomeFake fa-solid fa-users\" />\n            <span class=\"ms-3\">{{ data.name }}</span>\n          </router-link>\n          </div>\n          \n      </div>\n    </div>\n    \n    <div class=\"sidebar__profile d-flex\">\n          <div>\n            <span class=\"status\"></span>\n            <img class=\"img-fluid\" id=\"avatar\" src=\"../../assets/avatar.png\" alt=\"avatar\" />\n          </div>\n          <div class=\"sidebar__profileInfo flex-fill position-relative p-3\">\n            <h3 id=\"currentUsername\"></h3>\n            <p id=\"userTag\"></p>\n          </div>\n          <div class=\"sidebar__profileIcons position-relative\">\n            <font-awesome-icon class=\"p-2\" size=\"lg\" icon=\"fa-solid fa-microphone\" />          \n            <font-awesome-icon class=\"p-2\" size=\"lg\" icon=\"fa-solid fa-headphones\" />   \n\n            <span type=\"button\" class=\"spmodal btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#setting\">\n              <font-awesome-icon class=\"p-2\" size=\"lg\" icon=\"fa-solid fa-gear\" />\n            </span>\n          </div>\n    </div>\n  </div>\n  \n    <!-- Modal Boostrap -->\n  <div class=\"modal fade\" id=\"setting\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Réglages</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <h2>Renommer le compte</h2>\n            <input type=\"text\" class=\"form-control\" aria-label=\"Text input with dropdown button\" placeholder=\"Pseudo\">\n          </div>\n          <div class=\"modal-body\">\n            <h2>Photo de profil</h2>\n            <input type=\"text\" class=\"form-control\" aria-label=\"Text input with dropdown button\" placeholder=\"Pseudo\">\n          </div>\n          <div class=\"modal-footer d-flex\">\n            <button type=\"button\" class=\"btn btn-danger\">Supprimer le compte</button>\n            <button id=\"createChannelButton\" type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">Valider</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!--<popupErreur mess=\"\" v-if=\"alerte\"/>-->\n</template>\n\n<script>\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport { getChannels } from '@/api/caller.service';\nimport popupErreur from '@/components/chat/popupErreur.vue';\nimport { faThumbsDown } from '@fortawesome/free-solid-svg-icons';\nimport store from '../../store/index.js'\nimport chat from './chat.vue';\n//import settingPopup from './settingPopup.vue';\n\nexport default {\n    name: \"sidebar\",\n    components: { \n      FontAwesomeIcon,\n      popupErreur,\n    },\n    data(){\n    return {\n      isHidden: false,\n      alerte: false,\n      message: \"\",\n      channels:null,\n        }\n      },\n    methods:{\n      getMessage : function() {\n        // this.$emit('my-event')\n        console.log(th)\n        this.$store.commit('setIdChannel', this.channels.idChannel)\n        console.log(this.$store.state.idChannel)\n        this.$store.commit('setNameChannel', this.channels.nameChannel)\n        console.log(this.$store.state.nameChannel)\n\n\n        // this.$chat.$emit(getMessages(store.state.idChannel))\n        // this.$refs.chat.getMessages(store.state.idChannel);\n        // this.$root.$emit('component1') //like this\n        // this.$root.$refs.Chat.foo();\n        // component('Chat').c1method()//like this\n\n\n        // }\n        //   showAlerte(mess){\n        //     this.popupErreur.showAlerte()\n        //     document.getElementById(\"alerte\").innerHTML = mess;\n        //     setTimeout(() => {\n        //       this.alerte = true;\n        //     }, 1000);\n        // },\n    },\n  },\n    mounted(){\n      getChannels()\n      .then(data => {\n        this.channels = data;\n        store.commit('setIdChannel', data[0].id);\n        store.commit('setNameChannel', data[0].name);\n        console.log(data[0].id)\n        console.log(data[0])})\n      .catch(error => {\n            //this.alerte = true;\n            //this.popupErreur.changeProps(\"tatata\")\n            //this.message = \"Erreur lors de la récupération des channels\";\n            console.log(error);\n          });\n    },\n}\n\n</script>\n\n<style>\n  .sidebar {\n    flex-direction: column;\n    row-gap: 20px;\n    width: 250px;\n    background-color: #2f3135;\n    color: gray;\n    \n  }\n  .input-group {\n    border-bottom: 2px solid #26282c;\n  }\n\n  /* menu */\n  .sidebar__icon {\n    padding: 10px;\n  }\n  input {\n    color: #1c87c9;\n    opacity: 1;\n  }\n  .sidebar__icon > span {\n    font-weight: 600;\n  }\n  .sidebar__icon_conv{\n    padding:10px;\n  }\n  .sidebar__icon_conv > span {\n    font-weight: 600;\n  }\n  .sidebar__icon_conv:hover {\n    padding: 10px;\n    color: #fff;\n    background-color: #40464b;\n    cursor: pointer;\n  }\n  .sidebar_users{\n    flex:auto;\n  }\n\n  /* Profile */\n  .sidebar__profile {\n    align-items: center;\n    background-color: #292a2d;\n    padding-left: 10px;\n  }\n\n  .sidebar__profile > div > img {\n    height: 45px;\n    width: 45px;\n    margin: 5px;\n  }\n\n  /* Popup */\n  .button{\n  background-color:red;\n}\n</style>"],"mappings":"AA8EA,SAASA,eAAc,QAAS,8BAA8B;AAC9D,SAASC,WAAU,QAAS,sBAAsB;AAClD,OAAOC,WAAU,MAAO,mCAAmC;AAC3D,SAASC,YAAW,QAAS,mCAAmC;AAChE,OAAOC,KAAI,MAAO,sBAAqB;AACvC,OAAOC,IAAG,MAAO,YAAY;AAC7B;;AAEA,eAAe;EACXC,IAAI,EAAE,SAAS;EACfC,UAAU,EAAE;IACVP,eAAe;IACfE;EACF,CAAC;EACDM,IAAIA,CAAA,EAAE;IACN,OAAO;MACLC,QAAQ,EAAE,KAAK;MACfC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAC;IACP;EACF,CAAC;EACHC,OAAO,EAAC;IACNC,UAAS,EAAI,SAAAA,CAAA,EAAW;MACtB;MACAC,OAAO,CAACC,GAAG,CAACC,EAAE;MACd,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,cAAc,EAAE,IAAI,CAACP,QAAQ,CAACQ,SAAS;MAC1DL,OAAO,CAACC,GAAG,CAAC,IAAI,CAACE,MAAM,CAACG,KAAK,CAACD,SAAS;MACvC,IAAI,CAACF,MAAM,CAACC,MAAM,CAAC,gBAAgB,EAAE,IAAI,CAACP,QAAQ,CAACU,WAAW;MAC9DP,OAAO,CAACC,GAAG,CAAC,IAAI,CAACE,MAAM,CAACG,KAAK,CAACC,WAAW;;MAGzC;MACA;MACA;MACA;MACA;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACJ;EACF,CAAC;;EACCC,OAAOA,CAAA,EAAE;IACPtB,WAAW,EAAC,CACXuB,IAAI,CAAChB,IAAG,IAAK;MACZ,IAAI,CAACI,QAAO,GAAIJ,IAAI;MACpBJ,KAAK,CAACe,MAAM,CAAC,cAAc,EAAEX,IAAI,CAAC,CAAC,CAAC,CAACiB,EAAE,CAAC;MACxCrB,KAAK,CAACe,MAAM,CAAC,gBAAgB,EAAEX,IAAI,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC;MAC5CS,OAAO,CAACC,GAAG,CAACR,IAAI,CAAC,CAAC,CAAC,CAACiB,EAAE;MACtBV,OAAO,CAACC,GAAG,CAACR,IAAI,CAAC,CAAC,CAAC,CAAC;IAAA,CAAC,EACtBkB,KAAK,CAACC,KAAI,IAAK;MACV;MACA;MACA;MACAZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;IACpB,CAAC,CAAC;EACR;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}